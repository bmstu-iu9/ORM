CREATE or replace function go() returns int as $$
begin
  if (1>2) then
    RAISE 'bad';
    --return 1;

  else
    declare b int;
    begin
      SELECT * from shop join shop2 on a = b where c > 100;
      LOOP
        SELECT a from b;
        EXIT WHEN a = 2;
      END LOOP;
      b := 10;
      return b;
    end;
  end if;
  return 1;
end;
$$ language plpgsql;